SELECT * FROM RRHH_PERFORMANCE_EVALUATIONS_DETAILS;
SELECT * FROM RRHH_PERFORMANCE_EVALUATIONS;
SELECT * FROM RRHH_PERFORMANCE_INFORMATIONAL_RESPONSES;
SELECT * FROM T_RRHH_PERFORMANCE_INFORMATIONAL_QUESTIONS;
SELECT * FROM RRHH_PERFORMANCE_EVALUATIONS_RESPONSES;
SELECT * FROM T_RRHH_PERFORMANCE_EVALUATIONS_QUESTIONS;
SELECT * FROM T_RRHH_PERFORMANCE_EVALUATIONS_CATEGORIES;
SELECT * FROM T_RRHH_PERFORMANCE_EVALUATIONS_SECTIONS;
SELECT * FROM RRHH_PERFORMANCE_QUESTION_SETS;
SELECT * FROM T_RRHH_PERFORMANCE_EVALUATIONS_TYPES;
SELECT * FROM T_RRHH_PERFORMANCE_EVALUATIONS_RECOMMENDATIONS;



---SCORES
SELECT * FROM T_RRHH_PERFORMANCE_EVALUATIONS_SCORES 
where PARENT_SCORE_SET = '924c4bc9-0068-4196-84f6-851403d09ba0';

SELECT 
    ParentSet.SCORE_NAME AS ParentScoreName,
    STRING_AGG(ChildSet.SCORE_NAME, '; ') AS ChildScoreNames,
    STRING_AGG(CONVERT(varchar, ChildSet.SCORE_VALUE), '; ') AS ChildScoreValues
FROM 
    T_RRHH_PERFORMANCE_EVALUATIONS_SCORES AS ParentSet
JOIN 
    T_RRHH_PERFORMANCE_EVALUATIONS_SCORES AS ChildSet
    ON ParentSet.IDE_COMPANY = ChildSet.IDE_COMPANY
    AND ParentSet.IDE_SCORE_SET = ChildSet.PARENT_SCORE_SET
GROUP BY 
    ParentSet.IDE_SCORE_SET,
    ParentSet.SCORE_NAME;